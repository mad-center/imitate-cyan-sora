# 14

导入素材

![image-20210426200631730](assets/image-20210426200631730.png)

注意将背景素材中心对齐画布中心。

---

下面先制作背景的旋转和缩放动画。

先摆放开始帧。

![image-20210426201017761](assets/image-20210426201017761.png)

人物头像位于水平线中间位置。标记缩放和旋转关键帧。

结束帧摆放

![image-20210426201234931](assets/image-20210426201234931.png)

---

观察上下边框的过渡

![image-20210426202407058](assets/image-20210426202407058.png)

上边框：从右往左进入

下边框：从左往右进入

进入之后，上下边框出现网格。

![image-20210426202519000](assets/image-20210426202519000.png)

---

先复制一层bg，然后应用快速模糊。

将06合成的grid背景图层复制过来。

![image-20210426205617622](assets/image-20210426205617622.png)

新建黑色纯色层，调整形状为一个矩形，用于制作下边框。opacity 70%左右。

使用mask矩形工具框选下边框的区域（可以稍大于原边框），对mask路径画一个从左到右的动画。

![image-20210426205728976](assets/image-20210426205728976.png)

接着，复制该层，用于制作上边框。要更改的地方是位置，以及mask的路径。将x值取反即可。

![image-20210426210810662](assets/image-20210426210810662.png)

---

文字圆圈动画思路：新建文本层，在该层使用圆形工具绘制正圆mask，将文字路径改为这个mask。确保文字中心点为画布中心点。

旋转属性表达式：

```js
time * (-10)
```

-10的负号表示逆时针。

文字反转：mask的路径/路径选项/反转路径。

---

制作上下边框的消失动画。

![image-20210426232134981](assets/image-20210426232134981.png)

原作中，与下一個镜头过渡使用的是：渐变交叉叠化。

![image-20210426232320382](assets/image-20210426232320382.png)

操作如下，注意对齐上一个镜头的消失。

![image-20210426232642163](assets/image-20210426232642163.png)

同时补充轻微的逆时针旋转和缩放。保证画面后续不会静止。

![image-20210426233358142](assets/image-20210426233358142.png)

效果预览

![14-next](assets/14-next.gif)

---

![image-20210426234054120](assets/image-20210426234054120.png)

这种含有很多点阵的图案称为半调图案。

可以使用蓝宝石的插件效果halfTone来制作。

> 请下载蓝宝石插件。

新建一个黑色纯色层，应用梯度渐变（gradient ramp），调节开始点和结束点。然后应用halfTone

![image-20210427142739292](assets/image-20210427142739292.png)

也就是黑色圆水平渐变，越来越小，直到消失。

将渐变位置范围调整大致如下

![image-20210427144701784](assets/image-20210427144701784.png)

复制halfTone图层，在下面的复制层，应用亮度trkMatte（遮罩）

![image-20210427144816081](assets/image-20210427144816081.png)

将这两个halfTone图层预合成。并降低opacity，这样不至于太白。

![image-20210427144957466](assets/image-20210427144957466.png)

复制这个halfTone，并重新整理为halfTone-left,halfTone-right。对于右侧的半调，只需要将原来的scale的X取反。

![image-20210427145212941](assets/image-20210427145212941.png)

接下来，将halfTone合成的时间开始位置对齐bg2的出现。并同样K不透明度的关键帧。

![image-20210427145607125](assets/image-20210427145607125.png)

---

下面考虑人物的消失。

![image-20210427152748252](assets/image-20210427152748252.png)

在人物上层，新建一个白色纯色层，K不透明度从0到100的渐变。

注意到此时半调中点阵已经是黑色，其余背景为白色。

![image-20210427152859085](assets/image-20210427152859085.png)

先将上面的halfTone图层在人物开始消失稍微往右几帧的位置，使用ctrl shift D拆开。然后对拆开后的新的两层，应用tint，将黑白全部映射为黑色。这样点阵就变成黑色，其余地方变成白色背景。

![image-20210427155056283](assets/image-20210427155056283.png)

---

由于下面的场景依旧使用相同的半调背景，这里需要重构项目，将该合成时间继续扩展到后续镜头。结束变为 00:01:16:10

![image-20210427155743590](assets/image-20210427155743590.png)

需要合并的地方为08:10，也就是8秒10帧

对14合成，ctrl K打开设置，将上述时间累加到duration

![image-20210427155952304](assets/image-20210427155952304.png)

06:24 + 08:10 =14:34=15:09 （1s=25frame）

再次验证无误。

![image-20210427160129733](assets/image-20210427160129733.png)

将halfTone2复制位halfTone3.因为这里我们需要去掉之前的tint色调。然后创建黑色纯色层作为新背景。

> 不裁剪而是使用tint来K帧也是可以的，而且更简洁。

为了使得过渡平滑，创建一个白色纯色层，作不透明度0-> 100->0的过渡。

![image-20210427163929675](assets/image-20210427163929675.png)

效果预览

![14-transition](assets/14-transition.gif)

---

新建形状层，使用钢笔工具绘制一条垂直居中的横线。然后添加一个圆，适当缩放。

![image-20210427165805460](assets/image-20210427165805460.png)

在大约1:07:13处k关键帧：opacity：0->100;scale适当变大。

![image-20210427170540888](assets/image-20210427170540888.png)

---

接着。在1:08:23处标记

![image-20210427164831322](assets/image-20210427164831322.png)

先是上面矩形一个闪白，然后素材从左完后划过来，先快后慢，运动不能停止。

下面矩形同理，不过反向相反。

先导入素材，适当缩放和旋转。

![image-20210427172212935](assets/image-20210427172212935.png)

选中图层，使用矩形工具绘制一个mask。

注意这个会出现一个问题，mask也会跟着旋转。

![image-20210427172303236](assets/image-20210427172303236.png)

可以使用箭头工具修复角度。

> 或者将图层预合成，然后对预合成进行矩形工具绘制mask。这时，画出来的mask就是正90度的。

![image-20210427172512635](assets/image-20210427172512635.png)

复制一份上面的图层。裁剪出下面的人物

![image-20210427172827230](assets/image-20210427172827230.png)

这两个矩形都需要做一定的虚化处理。上面矩形左侧虚化，下面矩形右侧虚化。这里使用mask羽化实现。

![image-20210427182111424](assets/image-20210427182111424.png)

![image-20210427182141168](assets/image-20210427182141168.png)

观察原作初始位置。

![image-20210427225006043](assets/image-20210427225006043.png)

右侧女孩在刚开始时是能看见的，然后整体右移直到看不到。这段位置就是位移距离。

![image-20210427230153632](assets/image-20210427230153632.png)对position k帧

![image-20210427230518587](assets/image-20210427230518587.png)

按照同样的道理

![image-20210427231759161](assets/image-20210427231759161.png)

效果预览。这是一种交错的运动美。

> 变体：上下交错运动，或者倾斜一定角度切割画布的运动或许可以成为下一个mad某个镜头。

![14-top-and-bottom-move](assets/14-top-and-bottom-move.gif)

修复矩形mask移动时一侧的背景问题：分别使用两个灰色背景层对齐矩形mask的时间范围。

![image-20210430182354791](assets/image-20210430182354791.png)

> TODO: 调研关键帧个数对速度表现的影响。

标记两个矩形开始消失的时间和消失结束的时间。

![image-20210430173453540](assets/image-20210430173453540.png)

观察原作消失转场设计，向原来的方向加速消失。

![image-20210430204259450](assets/image-20210430204259450.png)

通过K position关键帧和opacity来实现。

![image-20210430205505957](assets/image-20210430205505957.png)

mask消失之后。

新建摄像机和空对象，将摄像机绑定到空对象。该镜头的出现是逆时针旋转和缩小。也就是对scale个z rotation k关键帧。

![image-20210430212535263](assets/image-20210430212535263.png)

![image-20210430212734485](assets/image-20210430212734485.png)

效果预览

![14-bg-enter](assets/14-bg-enter.gif)

补充粒子效果就行了。

去13合成复制一个particular图层过来，去合成1复制粒子形态。

修复粒子texture，并选择类型为textured polygon，原因是为了保留3d空间形态。

![image-20210430213833787](assets/image-20210430213833787.png)

补充摄像机Z轴景深。

![14-bg-z](assets/14-bg-z.gif)

---

补充：

花雨转场的实现

![image-20210506212606444](assets/image-20210506212606444.png)

预先运行一些例子，逐步加大size。这样就会形成一种粒子越来越大的效果。

粒子的消失由size over life选项控制，必须为递减的曲线。

后续将particles/sec和velocity设置为0，这样不再长生粒子。

这样，就能形成一种粒子快速变大，然后消亡的转场。